---
layout: reveal
title: DTAM, Newcombe et al.
pres: true
published: false
---

DTAM: Dense Tracking and Mapping in Real-Time
=============================================
Richard A. Newcombe, Steven J. Lovegrove and Andrew J. Davison

<small>All images taken from paper.</small>

---

DTAM: Dense Tracking and Mapping in Real-Time
---------------------------------------------
* _Dense_: pixel-by-pixel correlation between images&mdash;no feature
  extraction
* _Tracking_: where's the camera?
   * _and_: a conjunction
* _Mapping_: what does the world look like?
   * _in_: a preposition
* _Real-Time_: useful for robotics

---

Overview
--------
* Mapping
   * Photometric cost
   * Regularization
   * Optimization
* Tracking
* Video

---

Notation
--------
|||
| --- | --- |
| \\(\mathbf{I}\_r\\) | reference image \\(r\\) |
| \\(\mathbf{I}\_m \in \mathscr{I}(r)\\) | non-reference image \\(I\_m\\) that refers to \\(I\_r\\) |
| \\(\Omega\\) | Image coordinates, \\((M \times N)\\) |
| \\(\mathbf{u}\\) | pixel coordinates, an element of \\(\Omega\\) |
| \\(\xi\_r\\) | inverse depth map for \\(I\_r\\) |
| \\(\mathbf{C}\_r\\) | cost volume for \\(I\_r\\) |

---

Mapping: Cost volume
--------------------
![Cost Volume](/res/cost_volume.png)

---

Mapping: Cost volume
--------------------
$$ \mathbf{C}\_r(\mathbf{u}, d) = \frac{1}{|\mathscr{I}(r)|} \sum\_{m \in \mathscr{I}(r)} ||\rho\_r(\mathbf{I}\_m, \mathbf{u}, d)||\_1 $$

$$ \rho\_r(\mathbf{I}\_m, \mathbf{u}, d) = \mathbf{I}\_r(u) - \mathbf{I}\_m(\pi(KT\_{mr}\pi^{-1}(\mathbf{u}, d))) $$

<br>
### In layman's terms:
* for a given pixel in the reference image, and for a given (inverse) depth
* we find the absolute difference with the appropriate pixels in the other images
* and we sum them over all nearby images

---

Mapping: Regularization
-----------------------
* Prior beliefs enforced with Huber norm, \\(||x||\_\epsilon\\):
  * Depth varies smoothly: \\(|x| \leq \epsilon \implies\\) quadratic
  * Except where it doesn't: linear elsewhere
* But we also get clues from the image gradient:
  * Use a per-pixel weight \\(g(\mathbf{u}) = exp(-\alpha||\nabla\mathbf{I}\_r(\mathbf{u})||\_2^\beta)\\)

<br>
$$ g(\mathbf{u}) ~ ||\nabla\xi(\mathbf{u})||\_\epsilon $$

---

Optimization
------------
Original problem:
$$ E\_\xi = \int\_\Omega \left( g(\mathbf{u})~||\nabla\xi(\mathbf{u})||\_\epsilon + \lambda \mathbf{C}(\mathbf{u}, \xi(\mathbf{u})) \right) d\mathbf{u} $$

<br>

Add an auxiliary term \\(\alpha\\) and a coupling term:
\\begin{split} E\_{\xi,\alpha} = \int\_\Omega \left( g(\mathbf{u})~||\nabla\xi(\mathbf{u})||\_\epsilon + \frac{1}{2\Theta}(\xi(\mathbf{u}) - \alpha(\mathbf{u}))^2 + \\\\
\lambda \mathbf{C}(\mathbf{u}, \alpha(\mathbf{u})) \right) d\mathbf{u} \\end{split}

---

Why make it _more_ complicated?
-------------------------------

|||
| --- | --- |
| Convex | \\(g(\mathbf{u})~&#124;&#124;\nabla\xi(\mathbf{u})&#124;&#124;\_\epsilon + \frac{1}{2\Theta}(\xi(\mathbf{u}) - \alpha(\mathbf{u}))^2\\) |
| One-dimensional | \\(\frac{1}{2\Theta}(\xi(\mathbf{u}) - \alpha(\mathbf{u}))^2 + \lambda \mathbf{C}(\mathbf{u}, \alpha(\mathbf{u}))\\) |

(It's actually even more complicated than that.)

---

Tracking
--------
* Project model into virtual camera, and compare with what we're seeing
* Estimate rotation first, then full 6DOF
* Use a power-of-2 image pyramid
* Robustified by ignoring outliers

---

<iframe width="560" height="315" src="https://www.youtube.com/embed/Df9WhgibCQA" frameborder="0" allowfullscreen></iframe>


